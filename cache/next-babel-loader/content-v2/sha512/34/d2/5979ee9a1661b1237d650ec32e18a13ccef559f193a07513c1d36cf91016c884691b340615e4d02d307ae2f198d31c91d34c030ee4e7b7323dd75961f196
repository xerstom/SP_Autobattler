{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport GameManager from \"./GameManager.js\";\n/**\n *\n * @prop {Array<Agent>} agents\n * @prop {Array<CardTemplate>} templates\n * @class GameManager\n */\n\nvar BackGameInterface = /*#__PURE__*/function () {\n  function BackGameInterface() {\n    _classCallCheck(this, BackGameInterface);\n\n    this._gameManager = new GameManager();\n\n    this._gameManager.init();\n  }\n\n  _createClass(BackGameInterface, [{\n    key: \"start\",\n    value: function start() {\n      this.gm.start();\n    } // GAMELOOP\n\n  }, {\n    key: \"next\",\n    value: function next(selectedBox) {\n      return this.gm.next(selectedBox);\n    } // POSITIONS\n\n  }, {\n    key: \"_formatPosition\",\n    value: function _formatPosition(agent) {\n      var position = this.gm.getPosition(agent);\n      return {\n        name: agent.name,\n        color: agent.color,\n        x: position.x,\n        y: position.y\n      };\n    }\n  }, {\n    key: \"getAgentsPosition\",\n    value: function getAgentsPosition() {\n      var _this = this;\n\n      return this.gm.getAgents().map(function (e) {\n        return _this._formatPosition(e);\n      });\n    }\n  }, {\n    key: \"getPriorAgentsPosition\",\n    value: function getPriorAgentsPosition() {\n      var _this2 = this;\n\n      return this.gm.getPriorAgents().map(function (e) {\n        return _this2._formatPosition(e);\n      });\n    }\n  }, {\n    key: \"getLaterAgentsPosition\",\n    value: function getLaterAgentsPosition() {\n      var _this3 = this;\n\n      return this.gm.getLaterAgentsCache().map(function (e) {\n        return _this3._formatPosition(e);\n      });\n    } // AGENTS\n\n  }, {\n    key: \"_formatAgent\",\n    value: function _formatAgent(agent) {\n      return {\n        name: agent.name,\n        color: agent.color,\n        life: agent.life,\n        level: agent.level,\n        boardSize: agent.boardSize,\n        money: agent.money,\n        boardUpPrice: agent.boardUpPrice,\n        levelUpPrice: agent.levelUpPrice\n      };\n    }\n  }, {\n    key: \"getAgents\",\n    value: function getAgents() {\n      var _this4 = this;\n\n      return this.gm.getAgents().map(function (e) {\n        return _this4._formatAgent(e);\n      });\n    }\n  }, {\n    key: \"getAgent\",\n    value: function getAgent(name) {\n      return this._formatAgent(this.gm.getAgent(name));\n    } // Profile\n\n  }, {\n    key: \"_formatBoard\",\n    value: function _formatBoard(agent) {\n      return {\n        name: agent.name,\n        bench: _toConsumableArray(agent.bench),\n        board: _toConsumableArray(agent.board)\n      };\n    }\n  }, {\n    key: \"getBoard\",\n    value: function getBoard(name) {\n      return this._formatBoard(this.gm.getAgent(name));\n    } // GETTERS\n\n  }, {\n    key: \"getGridSize\",\n    value: function getGridSize() {\n      return this.gm.getGridSize();\n    }\n  }, {\n    key: \"getMarketCard\",\n    value: function getMarketCard() {\n      return this.gm.getMarketCard();\n    } // PLAYER INTERACTION\n\n  }, {\n    key: \"canPlayerMove\",\n    value: function canPlayerMove(x, y) {\n      return this.gm.canPlayerMove(x, y);\n    }\n  }, {\n    key: \"levelUp\",\n    value: function levelUp() {\n      return this.gm.levelUp();\n    }\n  }, {\n    key: \"boardUp\",\n    value: function boardUp() {\n      return this.gm.boardUp();\n    }\n  }, {\n    key: \"rerollCard\",\n    value: function rerollCard() {\n      return this.gm.rerollCard();\n    }\n  }, {\n    key: \"buyCard\",\n    value: function buyCard() {\n      return this.gm.buyCard();\n    }\n  }, {\n    key: \"sellCard\",\n    value: function sellCard(index, location) {\n      return this.gm.sellCard(index, location);\n    }\n  }, {\n    key: \"swapCard\",\n    value: function swapCard(index, location) {\n      return this.gm.swapCard(index, location);\n    } // MAP\n\n  }, {\n    key: \"isDisabled\",\n    value: function isDisabled(x, y) {\n      return this.gm.isDisabled(x, y);\n    }\n  }, {\n    key: \"willBeDisabled\",\n    value: function willBeDisabled(x, y) {\n      return this.gm.willBeDisabled(x, y);\n    } // BATTLE\n\n  }, {\n    key: \"getBattleSummary\",\n    value: function getBattleSummary() {\n      return this.gm.getBattleSummary();\n    }\n  }, {\n    key: \"gm\",\n    get: function get() {\n      return this._gameManager;\n    }\n  }]);\n\n  return BackGameInterface;\n}();\n\nexport default BackGameInterface;","map":null,"metadata":{},"sourceType":"module"}